{
  "operations": [
    {
      "operation": "shift",
      "spec": {
        "caseId": "caseId",
        "#PROSECUTION": "_case_type",
        "defendantId": "parties[0].partyId",
        "#defendant": "parties[0]._party_type",
        "title": ["parties[0].title", "parties[0].aliases[0].title"],
        "firstName": ["parties[0].firstName", "parties[0].aliases[0].firstName"],
        "lastName": ["parties[0].lastName", "parties[0].aliases[0].lastName"],
        "dateOfBirth": "parties[0].dateOfBirth",
        "gender": "parties[0].gender",
        "legalEntityName": ["parties[0].organisationName","parties[0].aliases[0].organisationName"],
        "address": {
          "*": "parties[0].addressLines",
          "postcode": "parties[0].postCode"
        }
      }
    },
    {
      "operation": "modify-overwrite-beta",
      "spec": {
        "parties": {
          "*": {
            "addressLines": "=join(' ',@(1,addressLines))"
          }
        }
      }
    },
    {
      "operation": "shift",
      "spec": {
        "caseId": "caseId",
        "_case_type": "_case_type",
        "parties": "parties",
        "partyId": "parties[0].partyId",
        "_party_type": "_party_type",
        "addressLines": "parties[0].addressLines",
        "postCode": "parties[0].postcode"
      }
    },
    {
      "operation": "modify-overwrite-beta",
      "spec": {
        "\\_case_type": "=toUpper",
        "parties": {
          "*": {
            "\\_party_type": "=toUpper"
          }
        }
      }
    }
  ]
}
